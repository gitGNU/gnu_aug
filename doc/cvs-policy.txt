Branches are named in lower-case, and underscores used as separators.

Branch names consist of a version part, and a role/user part.

A common role would be that of the release engineer; which may be abbreviated
to 'releng'.

The following identifiers are examples of branch names:

v0r1_releng
v1r2_marayl

The trunk of the version tree is referred to as main.

Labels are named in upper-case, and underscores used as separators.

Preview release
PR1,PR2...PRn
RC1,RC2...RCn
SR1,SR2...SRn

BP
V0R1_RELENG_TO_V1R2_MARAYL
D20051101

--

1. Introduction

The following tutorial will assume the following snakeoil project:

$ mkdir -p snakeoil/src
$ echo "The first line." > snakeoil/src/README

2. Creating the Project

The snakeoil project can be added to cvs as follows:

$ cd snakeoil/src
$ cvs import -m "Initial import" snakeoil/src import IMPORT_20050628

Once imported, the local directory can be removed:

$ cd ../../
$ rm -fR snakeoil/src

The snakeoil project can then be checked out as follows:

$ cvs checkout snakeoil/src

Any new development should then occur on the main trunk:

$ cd snakeoil/src
$ echo "The second line." > README
$ cvs commit -m "Some changes."

3. Making a Release

Before a release is made the main trunk should be tagged as follows:

$ cvs tag REL_0_1
$ cvs tag REL_0_1_MERGED

And, a branch created from the tagged release for bugfixes:

$ cvs tag -b rel_0_1_patches

A release can then be made as follows:

$ cvs export -r REL_0_1 -d REL_0_1

Development on the main trunk can then continue:

$ echo "The third line." >> README
$ cvs commit -m "Some changes."

4. Bug Fixing

To add a bugfix, the sticky tag should be updated to the patches branch:

$ cvs update -r rel_0_1_patches

Bugs can then be fixed on the patches branch:

$ echo "A bug fix." >> README
$ cvs commit -m "Some changes."

Return to the main trunk as follows:

$ cvs update -A

5. Patch Releases

The sticky tag should be updated to the patches branch:

$ cvs update -r rel_0_1_patches

A patch release can then be created as follows:

$ cvs tag REL_0_1_1
$ cvs rdiff -r REL_0_1 -r REL_0_1_1 snakeoil/src > snakeoil-0.1.1.patch

The main trunk must then be merged with the patch release as follows:

$ cvs update -A
$ cvs update -j REL_0_1_MERGED -j REL_0_1_1

Resolve any conflicts using an editor and then commit:

$ vi snakeoil.txt
$ cvs commit -m "Some changes."

Once the merge is complete, the merged tag should be updated:

$ cvs rtag -F -r REL_0_1_1 REL_0_1_merged snakeoil/src

6. Deleting Tags

If need be, a tag can be deleted as follows:

$ cvs rtag -d current snakeoil/src

7. Moving Tags

An existing tag can be moved as follows:

$ cvs tag -F current snakeoil/src

8. Diffing Changes

To view differences between the latest version:

$ cvs diff -r HEAD
